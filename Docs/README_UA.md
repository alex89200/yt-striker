# YT Striker

## Мова
* [English](../README.md)
* **Українська**

## Опис
Утіліта командної строки для відправки скарг на канали та відео. В якості бекенду для автоматизації використовується Selenium WebDriver.

### Операційні системи
* Windows
* MacOS (використовуючи Mono)

### Браузери що підтримуються
* Microsoft Edge (рекомендований)
* Chrome
* Firefox

### Режими роботи
1. **Скарга на канал** - відкриває сторінку "Про канал" та відправляє скаргу на власника каналу;
1. **Скарга на відео** - відкриває кожне відео на каналі та відправляє на нього скаргу. Кількість обробляємих відео може бути обмежена за допомогою спеціального параметру (див. секцію [Використання](#використяння)).


## Використання

### Швидкий гайд

1. Відкрийте файл "targets.txt" та добавте туди адреси каналів що треба опрацювати. Кожен канал на окремому рядку. Адреса каналу НЕ ПОВИННА закінчуватися на `/videos`, `/about`, `/featured` та ін. Приклади правильних адрес:
    * `https://www.youtube.com/c/FaktyICTVchannel`
    * `https://www.youtube.com/channel/UC9zktRjA2aI7cEZOfkDqmLg`


1. *\[Опціонально\]* Включіть VPN. (Деякі канали можуть бути недоступні у деяких странах)

1. Запустіть `ProcessChannels_BROWSER` якщо ви бажаєте відправляти скарги на власника каналів або `ProcessVideos_BROWSER` якщо ви бажаєте відпраляти скарги на відео (де BROWSER - назва браузеру який ви хочете використовувати). Рекомендовано використовувати Microsoft Edge тому що він є найбільш стабільним підчас автоматизації.<br><br>
Користувачі MacOS повинні запускати вказані вище скрипти через Terminal. Для цього треба запустити Terminal, перетягнути скрипт у вікно та натиснути кнопку ентер. Утіліта потребує для запуску наявніть встановленного Mono. У разі його відсутності буде запропонвано скачати та встановити.
<br><br>

**ВАЖЛИВО!**<br>
>При першому запуску утіліти буде відкрито вікно входу до YouTube. Програма буде чекати на логін, але не більше ніж 5 хвилин. Якщо за цей час в аккаунт не будет війдено, процес буде скасовано.<br>
Рекомендується використовувати окремий YouTube акаунт, створенний спеціально для цих цілей, замість персонального.

<br>

### Продвинутий гайд

Утіліта може бути запущена вручну через командну строку для того щоб мати повний контроль над її можливостями.

<br>

#### **Аргументи командної строки**

|      Аргумент       | Опис                          |
| ------------------- | ----------------------------- |
| `-m`, `--mode`      | *(Default: videos)*<br>Режим роботи. <br><br>**Possible values:**<br>`channel` - скарга на власника каналу<br>`videos` - скарги на окремі відео. |
| `-b`, `--browser`   | *(Default: edge)*<br>Який браузер використовувати.<br><br>**Possible values:**<br>`chrome`, `firefox`, `edge`. |
| `-c`, `--channel`   | *(Group: input)*<br>Адреса каналу для обробки<br>**ВАЖЛИВО!** Один з двох аргументів має бути обов'язково вказан: або цей, або `-f`. |
| `-f`, `--file`      | *(Group: input)*<br>Файл в якому знаходиться список адрес каналів для обробки. Кожна адреса має бути на окремому рядку.<br>**ВАЖЛИВО!** Один з двох аргументів має бути обов'язково вказан: або цей, або `-c`. |
| `-l`, `--limit`     | *(Default: 30)*<br>Максимальна кількість відео для обробки на кожному каналі. Цей аргумент не використовується у режимі 'channel' (див. опис аргументу `-m`). |
| `-i`, `--complaint`     | Номер основної скарги у списку. Нумерація стартує з нуля. За замовчуванням вибирається варіант 'Заклики до насилля'. |
| `-o`, `--sub-complaint` | Номер конкретизуючої скарги з випадаючого списку основної скарги. Нумерація з нуля. За замовчуванням обирається перший елемент у списку. |
| `-d`, `--desc`          | *(Default: description.txt)*<br>Шлях до файлу який містить опис що буде використано на останньому кроці у якості опису скарги. |
| `-t`, `--timeout`       | *(Default: 60)*<br>Таймаут на завантаження сторінки. |
| `--dry-run`           | *(Default: false)*<br>Якщо цей флаг стоїть, на останньому кроці кнопка 'Відправити' не буде натискатися. Цей аргумент можна використовувати для тесту налаштувань. |
| `-v`, `--verbose`       | *(Default: false)*<br>Срати в лог усією можливою інформацією щодо процесу роботи. |
| `--help`              | Відобразити цей список аргументів. |
| `--version`           | Відобразити версію утіліти. |

<br>

#### **Детальна інформація**

* Рекомендується використовувати Microoft Edge у якості браузера для обробки, тому що він йде разом із Windows та роботає максимально стабільно із Selenium WebDriver (автоматизаційний бекенд). Google Chrome є на другому місці, Firefox на останньому;

* Є два способи запустити обробку декількох каналів:
  * Запускати цю утіліту окремо для кожного каналу, передавая його через аргумент: `-c channelName`;
  * Запустити утіліту один раз, передавши шлях до файлу який містить список каналів для обробки: `-f filePath`.

  Ці варіанти працюють для обох режимів роботи: `Channels` та `Videos`.

  Якщо передані обидва аргументи `-c` та `-f`, то буде використаний тільки аргумент `-c`.

  У файлі зі списком каналів кожна адреса каналу має бути на окремому рядку;

* Файл з описом, який передається через `-d` містить опис який буде використано на останньому кроці скарги, де треба надати текстовий опис. Якщо цей аргумент не задано, то використувується файл за замовчуваннями: 'description.txt';

* Використовуйте `--dry-run` щоб перевірити налаштування без реальної відправки скарг;

* Номери скарги та конкретизуючої скарги це просто порядковий номер опції у списку (див. зображення нижче). Нумерация стартує з нуля. Щоб автоматично вибрати варіант "Заклики до насилля" треба передати -1 в якості значення цих аргументів, або не передавати їх зовсім.
![Complaint options][complaint-options]

<br>

#### **Корисні поради / Усунення неполадок**
- Утіліта запускає браузери використовуючи окремі профілі (саме цьому треба логінитись при першому запуску). Ці профіли створюються у папці `Profiles` директорії де знаходиться утіліта. У разі потреби вилогінитись, або змінити аккаунт - треба просто видалити цю папку;
- Наразі неможливо запустити паралельно декілька копій утіліти;
- Утіліта працює з останніми версіями браузерів на поточний момент (наразі це версії v98 та v99).

[complaint-options]: img/complaint_options.png "Complaint options"